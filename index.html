<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Faldron - NPC Attack and Loot Automation</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <header>
    <h1>Faldron</h1>
    <nav>
      <a href="#features">Features</a>
      <a href="#how-to">How to Use</a>
      <a href="#buy">Buy Now</a>
    </nav>
  </header>

  <section id="intro">
    <h2>Welcome to Faldron</h2>
    <p>The ultimate bot for Faldon, providing NPC auto-attack and auto-loot capabilities.</p>
  </section>

  <section id="features">
    <h2>Key Features</h2>
    <div class="feature-item">
      <img src="autoattack.png" alt="NPC Attack" />
      <p>Automated NPC Attack: Engage enemies with precision and efficiency.</p>
    </div>
    <div class="feature-item">
      <img src="inventoryfull.png" alt="Auto Loot" />
      <p>Auto-Collect Loot: Automatically collect loot within range, no manual effort required!</p>
    </div>
  </section>

  <section id="video">
    <h2>Watch Faldron in Action</h2>
    <div class="video-container">
      <video width="400" controls>
        <source src="demo.mp4" type="video/mp4">
        Your browser does not support the video tag.
      </video>
      <video width="400" controls>
        <source src="demo2.mp4" type="video/mp4">
        Your browser does not support the video tag.
      </video>
    </div>
  </section>

  <section id="how-to">
    <h2>How to Set It Up</h2>
    <ol>
      <li>Download Faldron from the link provided after purchase.</li>
      <li>Follow the simple steps to integrate it with your game.</li>
      <li>Customize your settings for optimal performance.</li>
    </ol>
  </section>

  <section id="buy">
    <h2>Buy Faldron Now</h2>
    <p>Get Faldron today and automate your NPC battles and loot collection in Faldon.</p>
    <div id="paypal-button-container"></div>
  </section>

  <footer>
    <p>&copy; 2024 Faldron. All rights reserved.</p>
  </footer>

  <!-- PayPal SDK script -->
  <script src="https://www.paypal.com/sdk/js?client-id=AXqR21tNj_crb325oDOxOUfFUtGcEdFxbALzBQgC77jDn13sVFCEoXdzbn6vwO9QuLxdaTkN_S_9qnzl&currency=USD"></script>

  <!-- PayPal Button Script -->
  <script>
    function generateLicenseID() {
      const characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';
      let result = '';
      for (let i = 0; i < 10; i++) {
        result += characters.charAt(Math.floor(Math.random() * characters.length));
      }
      return result;
    }

    function calculateExpirationDate() {
      const date = new Date();
      date.setMonth(date.getMonth() + 1);
      return date.toISOString().split('T')[0] + 'T23:59:59';
    }

    paypal.Buttons({
      createOrder: function(data, actions) {
        return actions.order.create({
          purchase_units: [{
            amount: {
              value: '99.99' // Product price
            }
          }]
        });
      },
      onApprove: function(data, actions) {
        return actions.order.capture().then(function(details) {
          const licenseID = generateLicenseID();
          const expirationDate = calculateExpirationDate();

          // Send request to create license
          fetch('https://faldon-idle-server-fbfdcd5d8349.herokuapp.com/create_license', {
            method: 'POST',
            headers: {
              'Content-Type': 'application/json',
            },
            body: JSON.stringify({
              license_id: licenseID,
              expiration_date: expirationDate
            })
          })
          .then(response => response.json())
          .then(data => {
            if (data.success) {
              alert(`Thank you for your purchase! Your license has been created.\nLicense ID: ${licenseID}\nExpiration Date: ${expirationDate}`);
            } else {
              throw new Error('Failed to create license');
            }
          })
          .catch((error) => {
            console.error('Error:', error);
            alert('There was an error creating your license. Please contact support.');
          });

          // Send email with license details
          fetch('https://your-api-url.com/send-license', {
            method: 'POST',
            headers: {
              'Content-Type': 'application/json',
            },
            body: JSON.stringify({
              to: 'anthonyreeder123@gmail.com',
              subject: 'New Faldron License',
              text: `New license created:\nLicense ID: ${licenseID}\nExpiration Date: ${expirationDate}\nTransaction ID: ${details.id}\nBuyer Email: ${details.payer.email_address}`
            })
          })
          .catch((error) => {
            console.error('Error sending email:', error);
          });
        });
      }
    }).render('#paypal-button-container');
  </script>
</body>
</html>